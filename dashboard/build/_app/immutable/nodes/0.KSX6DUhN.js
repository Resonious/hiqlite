import{h as ve,a as Re,G as ze,T as Be,I as Ve,J as De,n as oe,i as k,k as w,t as q,l as y,j as _,K as de,D as pe,g as V,L as ue,m as I,o as xe,$ as Ne,M as z,F as N}from"../chunks/disclose-version.BOIiZiqf.js";import{Z as Oe,_ as He,n as ae,E as Ge,$ as Ue,a0 as Ke,R as Je,a as We,l as Qe,a1 as Xe,M as _e,G as W,u as Me,I as Q,H as C,f as G,k as T,x as re,h as F,J as X}from"../chunks/runtime.-QwJaGF5.js";import{a as H,i as E,p as x}from"../chunks/props.DG0Z0YZk.js";import{o as fe}from"../chunks/index-client.XY_IT_QY.js";import{a as Ye,h as Ze,b as et,A as se,e as $e,i as tt,g as Le,s as he}from"../chunks/fetch.DLS_NjMY.js";function ne(t,e,a,s){ve&&Re(),e===void 0||e(t,a)}function at(t){if(ve){var e=!1,a=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var s=t.value;L(t,"value",null),t.value=s}if(t.hasAttribute("checked")){var o=t.checked;L(t,"checked",null),t.checked=o}}};t.__on_r=a,Oe(a),Ye()}}function L(t,e,a){a=a==null?null:a+"";var s=t.__attributes??(t.__attributes={});ve&&(s[e]=t.getAttribute(e),e==="src"||e==="href"||e==="srcset")||s[e]!==(s[e]=a)&&(e==="loading"&&(t[He]=a),a===null?t.removeAttribute(e):t.setAttribute(e,a))}function Y(t,e,a){a?t.classList.add(e):t.classList.remove(e)}function U(t,e,a,s){const o=t.style,r=o.getPropertyValue(e);a==null?r!==""&&o.removeProperty(e):r!==a&&o.setProperty(e,a,"")}const qe=typeof window<"u",rt=qe?requestAnimationFrame:ae,ot=qe?()=>performance.now():()=>Date.now(),B={tick:t=>rt(t),now:()=>ot(),tasks:new Set};function Te(t){B.tasks.forEach(e=>{e.c(t)||(B.tasks.delete(e),e.f())}),B.tasks.size!==0&&B.tick(Te)}function st(t){let e;return B.tasks.size===0&&B.tick(Te),{promise:new Promise(a=>{B.tasks.add(e={c:t,f:a})}),abort(){B.tasks.delete(e)}}}function te(t,e){t.dispatchEvent(new CustomEvent(e))}function nt(t){const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function me(t){const e={},a=t.split(";");for(const s of a){const[o,r]=s.split(":");if(!o||r===void 0)break;const f=nt(o.trim());e[f]=r.trim()}return e}const it=t=>t;function J(t,e,a,s){var o=(t&Be)!==0,r=(t&Ve)!==0,f=o&&r,c=(t&De)!==0,v=f?"both":o?"in":"out",l,n=e.inert,i,d,m;function b(){return l??(l=a()(e,s==null?void 0:s(),{direction:v}))}var h={is_global:c,in(){e.inert=n,d==null||d.abort(),i==null||i.abort(),o?(te(e,"introstart"),i=ce(e,b(),d,1,()=>{te(e,"introend"),i=l=void 0},f?void 0:()=>{i=l=void 0})):m==null||m()},out(g){d==null||d.abort(),r?(e.inert=!0,te(e,"outrostart"),d=ce(e,b(),i,0,()=>{te(e,"outroend"),d=l=void 0,g==null||g()},f?void 0:()=>{d=l=void 0}),m=d.reset):g==null||g()},stop:()=>{i==null||i.abort(),d==null||d.abort()}},$=Qe;if(($.transitions??($.transitions=[])).push(h),o&&ze){let g=c;if(!g){for(var u=$.parent;u&&u.f&Ge;)for(;(u=u.parent)&&!(u.f&Ue););g=!u||(u.f&Ke)!==0}g&&Je(()=>{We(()=>h.in())})}}function ce(t,e,a,s,o,r){var f=s===1;if(Xe(e)){var c;return _e(()=>{var M=e({direction:f?"in":"out"});c=ce(t,M,a,s,o,r)}),{abort:()=>c.abort(),deactivate:()=>c.deactivate(),reset:()=>c.reset(),t:M=>c.t(M)}}if(a==null||a.deactivate(),!(e!=null&&e.duration))return o==null||o(),{abort:ae,deactivate:ae,reset:ae,t:()=>s};const{delay:v=0,css:l,tick:n,easing:i=it}=e;var d=B.now()+v,m=(a==null?void 0:a.t(d))??1-s,b=s-m,h=e.duration*Math.abs(b),$=d+h,u,g;return l?_e(()=>{var M=[],j=Math.ceil(h/16.666666666666668);if(f&&v>0){let D=Math.ceil(v/16.666666666666668),le=me(l(0,1));for(let Z=0;Z<D;Z+=1)M.push(le)}for(var p=0;p<=j;p+=1){var A=m+b*i(p/j),R=l(A,1-A);M.push(me(R))}u=t.animate(M,{delay:f?0:v,duration:h+(f?v:0),easing:"linear",fill:"forwards"}),u.finished.then(()=>{o==null||o(),s===1&&u.cancel()}).catch(D=>{if(u.startTime!==null&&u.currentTime!==null)throw D})}):(m===0&&(n==null||n(0,1)),g=st(M=>{if(M>=$)return n==null||n(s,1-s),o==null||o(),!1;if(M>=d){var j=m+b*i((M-d)/h);n==null||n(j,1-j)}return!0})),{abort:()=>{u==null||u.cancel(),g==null||g.abort(),r==null||r()},deactivate:()=>{o=void 0,r=void 0},reset:()=>{s===0&&(n==null||n(1,0))},t:M=>{var j=m+b*i((M-d)/h);return Math.min(1,Math.max(0,j))}}}function ie(t){var a;var e=(a=t.$$slots)==null?void 0:a.default;return e===!0?t.children:e}const lt=!0,fa=Object.freeze(Object.defineProperty({__proto__:null,prerender:lt},Symbol.toStringTag,{value:"Module"})),dt=t=>t;function Ce(t){const e=t-1;return e*e*e+1}function je(t,{delay:e=0,duration:a=400,easing:s=dt}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:a,easing:s,css:r=>`opacity: ${r*o}`}}function ct(t,{delay:e=0,duration:a=400,easing:s=Ce,axis:o="y"}={}){const r=getComputedStyle(t),f=+r.opacity,c=o==="y"?"height":"width",v=parseFloat(r[c]),l=o==="y"?["top","bottom"]:["left","right"],n=l.map(u=>`${u[0].toUpperCase()}${u.slice(1)}`),i=parseFloat(r[`padding${n[0]}`]),d=parseFloat(r[`padding${n[1]}`]),m=parseFloat(r[`margin${n[0]}`]),b=parseFloat(r[`margin${n[1]}`]),h=parseFloat(r[`border${n[0]}Width`]),$=parseFloat(r[`border${n[1]}Width`]);return{delay:e,duration:a,easing:s,css:u=>`overflow: hidden;opacity: ${Math.min(u*20,1)*f};${c}: ${u*v}px;padding-${l[0]}: ${u*i}px;padding-${l[1]}: ${u*d}px;margin-${l[0]}: ${u*m}px;margin-${l[1]}: ${u*b}px;border-${l[0]}-width: ${u*h}px;border-${l[1]}-width: ${u*$}px;`}}function ge(t,e){for(const a in e)t[a]=e[a];return t}function vt({fallback:t,...e}){const a=new Map,s=new Map;function o(f,c,v){const{delay:l=0,duration:n=A=>Math.sqrt(A)*30,easing:i=Ce}=ge(ge({},e),v),d=f.getBoundingClientRect(),m=c.getBoundingClientRect(),b=d.left-m.left,h=d.top-m.top,$=d.width/m.width,u=d.height/m.height,g=Math.sqrt(b*b+h*h),M=getComputedStyle(c),j=M.transform==="none"?"":M.transform,p=+M.opacity;return{delay:l,duration:typeof n=="function"?n(g):n,easing:i,css:(A,R)=>`
			   opacity: ${A*p};
			   transform-origin: top left;
			   transform: ${j} translate(${R*b}px,${R*h}px) scale(${A+(1-A)*$}, ${A+(1-A)*u});
		   `}}function r(f,c,v){return(l,n)=>(f.set(n.key,l),()=>{if(c.has(n.key)){const i=c.get(n.key);return c.delete(n.key),o(i,l,n)}return f.delete(n.key),t&&t(l,n,v)})}return[r(s,a,!1),r(a,s,!0)]}function ut(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function we(t,e){e.darkMode=!e.darkMode}var ft=q(`<div class="moon svelte-17bgi9x"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75
                        0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75
                        21a9.753 9.753 0 009.002-5.998z"></path></svg></div>`),_t=q(`<div class="sun svelte-17bgi9x"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12
                        18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75
                        3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg></div>`),ht=q('<div role="button" tabindex="0" class="icon svelte-17bgi9x"><!></div>');function mt(t,e){W(e,!0);const a="darkMode",[s,o]=vt({duration:250,easing:ut});let r=H({isInitialized:!1,darkMode:!1});Me(()=>{r.isInitialized?c(r.darkMode):(r.darkMode=f(),r.isInitialized=!0)});function f(){var i,d;const n=(i=window==null?void 0:window.localStorage)==null?void 0:i.getItem(a);return n?n==="true":(d=window==null?void 0:window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:d.matches}function c(n){n?(document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme")):(document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme")),localStorage.setItem(a,n.toString())}var v=ht();v.__click=[we,r],v.__keydown=[we,r];var l=k(v);E(l,()=>r.darkMode,n=>{var i=ft(),d=k(i);k(d),y(d),y(i),J(1,i,()=>o,()=>({key:"dark",delay:200})),J(2,i,()=>s,()=>({key:"light"})),w(n,i)},n=>{var i=_t(),d=k(i);k(d),y(d),y(i),J(1,i,()=>o,()=>({key:"light",delay:200})),J(2,i,()=>s,()=>({key:"dark"})),w(n,i)}),y(v),w(t,v),Q()}oe(["click","keydown"]);var gt=q('<div class="theme-switch svelte-jrz9as"><!></div>');function wt(t){var e=gt(),a=k(e);mt(a,{$$legacy:!0}),y(e),w(t,e)}var yt=q('<div class="container svelte-1yqkxw6"><div class="loading svelte-1yqkxw6"><div class="loading-1 svelte-1yqkxw6"></div> <div class="loading-2 svelte-1yqkxw6"></div> <div class="loading-3 svelte-1yqkxw6"></div></div></div>');function Ae(t,e){let a=x(e,"background",3,!1),s=x(e,"color",3,"var(--col-text)"),o=x(e,"global",3,!1),r=x(e,"offset",3,0);var f=yt(),c=k(f),v=k(c),l=_(_(v,!0)),n=_(_(l,!0));y(c),y(f),C(()=>{Y(f,"global",o()),Y(f,"local",!o()),Y(f,"background",a()),L(c,"style",`margin-top: ${r()??""}px;`),U(v,"background",s()),U(l,"background",s()),U(n,"background",s())}),J(3,f,()=>je,()=>({duration:100})),w(t,f)}var bt=q("<form><!></form>");function kt(t,e){W(e,!0);let a=x(e,"method",3,"POST"),s=x(e,"isError",7);async function o(c){c.preventDefault();const v=c.currentTarget;if(v.reportValidity())s(!1);else{s(!0);return}const n=new FormData(v);let i=new URLSearchParams;if(n.forEach((m,b)=>{i.append(b,m.toString())}),e.onSubmit){e.onSubmit(v,i);return}const d=await fetch(v.action,{method:v.method,headers:{"Content-type":"application/x-www-form-urlencoded"},body:i});Ze(d),e.onResponse&&(e.onResponse(d),d.ok&&v.reset())}var r=bt(),f=k(r);ne(f,ie(e),{}),y(r),C(()=>{L(r,"action",e.action),L(r,"method",a())}),de("submit",r,o,!1),w(t,r),Q()}function ye(t,e){e.onclick&&e.onclick()}var pt=q('<div class="load svelte-jw4hyj"><!></div>'),xt=q('<div class="txt svelte-jw4hyj"><!></div>'),Mt=q('<button class="svelte-jw4hyj"><!></button>');function $t(t,e){W(e,!0);let a=x(e,"type",3,"button"),s=x(e,"level",3,1),o=x(e,"width",3,"inherit"),r=x(e,"isDisabled",3,!1),f=x(e,"isLoading",3,!1),c=G(!f()),v=re(()=>r()||f());Me(()=>{f()?setTimeout(()=>{F(c,!1)},120):setTimeout(()=>{F(c,!0)},120)});var l=Mt();l.__click=[ye,e],l.__keydown=[ye,e];var n=k(l);E(n,f,i=>{var d=pt(),m=k(d),b=re(()=>(s()>1,"var(--col-text)"));Ae(m,{background:!1,get color(){return T(b)}}),y(d),w(i,d)},i=>{var d=pe(),m=V(d);E(m,()=>T(c),b=>{var h=xt(),$=k(h);ne($,ie(e),{}),y(h),J(1,h,()=>je),w(b,h)},null,!0),w(i,d)}),y(l),C(()=>{L(l,"type",a()),l.disabled=T(v),Y(l,"l1",s()===1),Y(l,"l2",s()===2),Y(l,"l3",s()>2),U(l,"width",o()),U(l,"cursor",f()?"default":"pointer")}),w(t,l),Q()}oe(["click","keydown"]);var Lt=ue(`<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0
            002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375
            3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375
            7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8
            0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125
            1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z"></path></svg>`);function qt(t,e){let a=x(e,"opacity",0,.9),s=x(e,"width",0,20);var o=Lt();L(o,"stroke-width",2),k(o),y(o),C(()=>{L(o,"width",s()),L(o,"opacity",a())}),w(t,o)}var Tt=ue(`<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138
            2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0
            01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0
            0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"></path></svg>`);function Ct(t,e){let a=x(e,"color",0,"var(--col-err)"),s=x(e,"opacity",0,.9),o=x(e,"width",0,24);var r=Tt();L(r,"stroke-width",2),k(r),y(r),C(()=>{L(r,"width",o()),L(r,"color",a()),L(r,"opacity",s())}),w(t,r)}var jt=ue(`<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963
            7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>`);function At(t,e){let a=x(e,"color",0,"var(--col-ok)"),s=x(e,"opacity",0,.9),o=x(e,"width",0,24);var r=jt();L(r,"stroke-width",2);var f=k(r);_(f),y(r),C(()=>{L(r,"width",o()),L(r,"color",a()),L(r,"opacity",s())}),w(t,r)}function be(t,e){navigator.clipboard?navigator.clipboard.writeText(e()):console.error("Copy to clipboard is only available in secure contexts")}function It(t){t.code}function ke(t,e){e()==="password"?e("text"):e("password")}function Pt(t){}var St=q('<div role="button" tabindex="0" class="btn clip svelte-1ofxkqs"><!></div>'),Et=q('<div class="nolabel svelte-1ofxkqs"></div>'),Ft=q('<div class="error svelte-1ofxkqs"><!> </div>'),Rt=q('<div><div class="input-row svelte-1ofxkqs"><input> <div class="rel svelte-1ofxkqs"><!> <div role="button" tabindex="0" class="btn show svelte-1ofxkqs"><!></div></div></div></div> <div class="label svelte-1ofxkqs"><label class="font-label noselect svelte-1ofxkqs"> </label> <!></div>',1);function zt(t,e){let a=x(e,"type",7,"password"),s=x(e,"name",3,"password"),o=x(e,"value",7,""),r=x(e,"label",3,"Password"),f=x(e,"autocomplete",3,"current-password"),c=x(e,"placeholder",3,"Password"),v=x(e,"title",3,"Password"),l=x(e,"disabled",3,!1),n=x(e,"min",3,"14"),i=x(e,"max",3,"128"),d=x(e,"required",3,!0),m=x(e,"width",3,"inherit"),b=x(e,"showCopy",3,!1),h=G(!1);function $(P){var K;const S=(K=P==null?void 0:P.currentTarget)==null?void 0:K.reportValidity();F(h,!S)}function u(P){P.preventDefault(),F(h,!0)}var g=Rt(),M=V(g),j=k(M),p=k(j);at(p),p.__input=[Pt],p.__keydown=[It];var A=_(_(p,!0)),R=k(A);E(R,b,P=>{var S=St();S.__click=[be,o],S.__keydown=[be,o];var K=k(S);qt(K,{}),y(S),w(P,S)});var D=_(_(R,!0));D.__click=[ke,a],D.__keydown=[ke,a];var le=k(D);E(le,()=>a()==="password",P=>{Ct(P,{width:22})},P=>{At(P,{width:22})}),y(D),y(A),y(j),y(M);var Z=_(_(M,!0)),ee=k(Z),Ie=k(ee);y(ee);var Pe=_(_(ee,!0));E(Pe,()=>T(h),P=>{var S=Ft(),K=k(S);E(K,()=>!r(),Ee=>{var Fe=Et();w(Ee,Fe)});var Se=_(K,!0);y(S),C(()=>I(Se,` ${v()??""}`)),J(3,S,()=>ct),w(P,S)}),y(Z),C(()=>{U(M,"width",m()),L(p,"type",a()),L(p,"id",e.id),L(p,"name",s()),L(p,"title",v()),L(p,"aria-label",v()),L(p,"autocomplete",f()),L(p,"placeholder",c()),p.disabled=l(),p.required=d()||void 0,L(p,"maxlength",e.maxLength||void 0),L(p,"min",n()||void 0),L(p,"max",i()||void 0),L(p,"pattern",e.pattern||void 0),U(p,"padding-right",b()?"55px":"30px"),L(ee,"for",e.id),I(Ie,r())}),et(p,o,P=>o(P)),de("invalid",p,u,!1),de("blur",p,$,!1),w(t,g)}oe(["input","keydown","click"]);var Bt=q('<meta property="description" content="Hiqlite Login">'),Vt=q("Login",1),Dt=q("<!> <!>",1),Nt=q('<div class="container svelte-9m879t"><div class="login svelte-9m879t"><!></div></div>');function Ot(t,e){let a=x(e,"session",7);async function s(c){c.status===200&&a(await c.json())}var o=Nt();xe(c=>{var v=Bt();Ne.title="Login",w(c,v)});var r=k(o),f=k(r);kt(f,{action:`${se}/session`,onResponse:s,children:(c,v)=>{var l=Dt(),n=V(l);zt(n,{id:"password",name:"password",autocomplete:"current-password",placeholder:"Password",title:"Valid Dashboard Password",required:!0});var i=_(_(n,!0));$t(i,{type:"submit",children:(d,m)=>{z();var b=Vt();w(d,b)},$$slots:{default:!0}}),w(c,l)},$$slots:{default:!0}}),y(r),y(o),w(t,o)}var Ht=q(" <br>",1),Gt=q('<section class="svelte-1843bx4"><h5 class="header"> <br> </h5> <div class="sql font-mono svelte-1843bx4"></div></section>');function Ut(t,e){W(e,!0);let a=re(()=>{var l;return(l=e.table.sql)==null?void 0:l.split(`
`)});var s=Gt(),o=k(s),r=k(o),f=_(r),c=_(f,!0);y(o);var v=_(_(o,!0));$e(v,73,()=>T(a),tt,(l,n,i)=>{var d=Ht(),m=V(d,!0);_(m),C(()=>I(m,X(n))),w(l,d)}),y(v),y(s),C(()=>{I(r,e.table.name),I(c,` ${e.table.typ??""}: ${e.table.tbl_name??""}`)}),w(t,s),Q()}var Kt=q('<div class="err"> </div>'),Jt=(t,e,a)=>e(X(a).name),Wt=(t,e,a)=>e(X(a).name),Qt=q('<span role="button" tabindex="0" class="tbl-name svelte-1oya264"> </span>'),Xt=q('<!> <h3>TABLES</h3> <div id="tables" class="svelte-1oya264"><div class="tables svelte-1oya264"></div> <!></div>',1);function Yt(t,e){W(e,!0);let a=G(H([])),s=G(void 0),o=G(void 0);fe(()=>{r()});async function r(){let m=await Le(`${se}/tables`);m.status===200?F(a,H(await m.json())):F(o,H(await m.json()))}async function f(m){F(s,H(T(a).filter(b=>b.name===m)[0]))}var c=Xt(),v=V(c);E(v,()=>T(o),m=>{var b=Kt(),h=k(b);y(b),C(()=>I(h,T(o))),w(m,b)});var l=_(_(v,!0)),n=_(_(l,!0)),i=k(n);$e(i,77,()=>T(a),(m,b)=>X(m).name,(m,b,h)=>{var $=Qt();$.__click=[Jt,f,b],$.__keydown=[Wt,f,b];var u=k($);y($),C(()=>{var g;U($,"background",((g=T(s))==null?void 0:g.name)===X(b).name?"var(--col-s)":""),I(u,X(b).name)}),w(m,$)}),y(i);var d=_(_(i,!0));E(d,()=>T(s),m=>{Ut(m,{get table(){return T(s)}})}),y(n),w(t,c),Q()}oe(["click","keydown"]);var Zt=q('<div class="metric svelte-1ktnipf"><div class="label font-label svelte-1ktnipf"> </div> <div class="font-mono"><!></div></div>');function O(t,e){var a=Zt(),s=k(a),o=k(s);y(s);var r=_(_(s,!0)),f=k(r);ne(f,ie(e),{}),y(r),y(a),C(()=>I(o,e.label)),w(t,a)}var ea=q("<b>Metrics</b> <!> <!> <!> <!> <!> <!> <!> <!>",1);function ta(t,e){W(e,!0);let a=G(void 0),s=re(()=>{var h;return(h=T(a))==null?void 0:h.membership_config.membership.configs.join(", ")});setInterval(()=>{o()},1e4),fe(()=>{o()});async function o(){let h=await Le(`${se}/metrics`);h.status===200?F(a,H(await h.json())):console.error(await h.json())}var r=ea(),f=V(r),c=_(_(f,!0));O(c,{label:"Node",children:(h,$)=>{z();var u=N();C(()=>{var g,M;return I(u,`${((g=T(a))==null?void 0:g.id)??""}
    ${((M=T(a))==null?void 0:M.state)??""}`)}),w(h,u)},$$slots:{default:!0}});var v=_(_(c,!0));O(v,{label:"Current Leader",children:(h,$)=>{z();var u=N();C(()=>{var g;return I(u,(g=T(a))==null?void 0:g.current_leader)}),w(h,u)},$$slots:{default:!0}});var l=_(_(v,!0));O(l,{label:"Last Log Index",children:(h,$)=>{z();var u=N();C(()=>{var g;return I(u,(g=T(a))==null?void 0:g.last_log_index)}),w(h,u)},$$slots:{default:!0}});var n=_(_(l,!0));O(n,{label:"Last Applied Log",children:(h,$)=>{z();var u=N();C(()=>{var g,M,j,p,A,R;return I(u,`${((M=(g=T(a))==null?void 0:g.last_applied)==null?void 0:M.leader_id.node_id)??""}
    -
    ${((p=(j=T(a))==null?void 0:j.last_applied)==null?void 0:p.leader_id.term)??""}
    -
    ${((R=(A=T(a))==null?void 0:A.last_applied)==null?void 0:R.index)??""}`)}),w(h,u)},$$slots:{default:!0}});var i=_(_(n,!0));O(i,{label:"Snapshot",children:(h,$)=>{z();var u=N();C(()=>{var g,M,j,p;return I(u,`${((M=(g=T(a))==null?void 0:g.snapshot)==null?void 0:M.leader_id)??""}
    -
    ${((p=(j=T(a))==null?void 0:j.snapshot)==null?void 0:p.index)??""}`)}),w(h,u)},$$slots:{default:!0}});var d=_(_(i,!0));O(d,{label:"Vote Leader",children:(h,$)=>{z();var u=N();C(()=>{var g;return I(u,(g=T(a))==null?void 0:g.vote.leader_id.node_id)}),w(h,u)},$$slots:{default:!0}});var m=_(_(d,!0));O(m,{label:"Millis Quorum Ack",children:(h,$)=>{z();var u=N();C(()=>{var g;return I(u,(g=T(a))==null?void 0:g.millis_since_quorum_ack)}),w(h,u)},$$slots:{default:!0}});var b=_(_(m,!0));O(b,{label:"Members",children:(h,$)=>{z();var u=N();C(()=>I(u,T(s))),w(h,u)},$$slots:{default:!0}}),w(t,r),Q()}var aa=q('<aside class="svelte-ehc7kz"><!></aside>');function ra(t){var e=aa(),a=k(e);ta(a,{$$legacy:!0}),y(e),w(t,e)}var oa=q('<meta name="robots" content="noindex nofollow">'),sa=q('<nav class="svelte-17qnstj"><!></nav> <main class="svelte-17qnstj"><!></main> <!>',1),na=q('<main class="svelte-17qnstj"><!></main>'),ia=q("<!> <!>",1);function _a(t,e){W(e,!0);let a=G(void 0),s=G(!1);he.subscribe(c=>{F(a,H(c))}),fe(async()=>{let c=await fetch(`${se}/session`);if(c.status===401)F(s,!0);else{let v=await c.json();console.log(v),he.set(v)}});var o=ia();xe(c=>{var v=oa();w(c,v)});var r=V(o);E(r,()=>T(a),c=>{var v=sa(),l=V(v),n=k(l);Yt(n,{}),y(l);var i=_(_(l,!0)),d=k(i);ne(d,ie(e),{}),y(i);var m=_(_(i,!0));ra(m),w(c,v)},c=>{var v=pe(),l=V(v);E(l,()=>T(s),n=>{Ot(n,{get session(){return T(a)},set session(i){F(a,H(i))}})},n=>{var i=na(),d=k(i);Ae(d,{}),y(i),w(n,i)},!0),w(c,v)});var f=_(_(r,!0));wt(f),w(t,o),Q()}export{_a as component,fa as universal};
