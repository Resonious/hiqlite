import{K as ze,T as Be,L as Ve,M as De,v as re,i as b,k as g,t as $,l as y,x as fe,j as f,p as Me,g as H,w as le,m as I,z as Se,$ as Oe,y as N,q as Q}from"../chunks/disclose-version.DdsrvPbs.js";import{n as ne,E as Ne,a0 as Ue,a1 as He,f as Qe,b as Ke,B as Ge,a2 as We,q as me,K as Y,a as de,N as X,M as j,x as O,g as S,G as se,z as A,Q as G,a3 as Ye,a4 as Xe,a5 as Je}from"../chunks/runtime.6J5aEZU7.js";import{i as z,o as Te}from"../chunks/index-client.BlVK4Nsz.js";import{a as ve,d as ce,s as T,j as Ze,t as te,b as et,k as tt,l as $e,m as _e,e as Ce,i as at,c as rt,n as qe,g as ot,A as it,Q as nt,h as st}from"../chunks/randomKey.CvWxylyc.js";import{a as F,p as M}from"../chunks/props.DDMHF-id.js";import{i as lt}from"../chunks/lifecycle.hZc_Fe1U.js";function W(t,e,a,i,r){var o=t.__attributes??(t.__attributes={}),c=t.style,l="style-"+e;o[l]===a&&!r||(o[l]=a,a==null?c.removeProperty(e):c.setProperty(e,a,""))}const Le=typeof window<"u",dt=Le?requestAnimationFrame:ne,vt=Le?()=>performance.now():()=>Date.now(),U={tick:t=>dt(t),now:()=>vt(),tasks:new Set};function je(t){U.tasks.forEach(e=>{e.c(t)||(U.tasks.delete(e),e.f())}),U.tasks.size!==0&&U.tick(je)}function ct(t){let e;return U.tasks.size===0&&U.tick(je),{promise:new Promise(a=>{U.tasks.add(e={c:t,f:a})}),abort(){U.tasks.delete(e)}}}function oe(t,e){t.dispatchEvent(new CustomEvent(e))}function ut(t){const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function ge(t){const e={},a=t.split(";");for(const i of a){const[r,o]=i.split(":");if(!r||o===void 0)break;const c=ut(r.trim());e[c]=o.trim()}return e}const ft=t=>t;function Z(t,e,a,i){var r=(t&Be)!==0,o=(t&Ve)!==0,c=r&&o,l=(t&De)!==0,_=c?"both":r?"in":"out",s,n=e.inert,u,d,p;function C(){return s??(s=a()(e,i==null?void 0:i(),{direction:_}))}var m={is_global:l,in(){e.inert=n,d==null||d.abort(),u==null||u.abort(),r?(oe(e,"introstart"),u=he(e,C(),d,1,()=>{oe(e,"introend"),u=s=void 0},c?void 0:()=>{u=s=void 0})):p==null||p()},out(w){d==null||d.abort(),o?(e.inert=!0,oe(e,"outrostart"),d=he(e,C(),u,0,()=>{oe(e,"outroend"),d=s=void 0,w==null||w()},c?void 0:()=>{d=s=void 0}),p=d.reset):w==null||w()},stop:()=>{u==null||u.abort(),d==null||d.abort()}},q=Ge;if((q.transitions??(q.transitions=[])).push(m),r&&ze){let w=l;if(!w){for(var v=q.parent;v&&v.f&Ne;)for(;(v=v.parent)&&!(v.f&Ue););w=!v||(v.f&He)!==0}w&&Qe(()=>{Ke(()=>m.in())})}}function he(t,e,a,i,r,o){var c=i===1;if(We(e)){var l;return me(()=>{var h=e({direction:c?"in":"out"});l=he(t,h,a,i,r,o)}),{abort:()=>l.abort(),deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:h=>l.t(h)}}if(a==null||a.deactivate(),!(e!=null&&e.duration))return r==null||r(),{abort:ne,deactivate:ne,reset:ne,t:()=>i};const{delay:_=0,css:s,tick:n,easing:u=ft}=e;var d=U.now()+_,p=(a==null?void 0:a.t(d))??1-i,C=i-p,m=e.duration*Math.abs(C),q=d+m,v,w;return s?me(()=>{var h=[],k=Math.ceil(m/16.666666666666668);if(c&&_>0){let B=Math.ceil(_/16.666666666666668),ae=ge(s(0,1));for(let V=0;V<B;V+=1)h.push(ae)}for(var x=0;x<=k;x+=1){var L=p+C*u(x/k),E=s(L,1-L);h.push(ge(E))}v=t.animate(h,{delay:c?0:_,duration:m+(c?_:0),easing:"linear",fill:"forwards"}),v.finished.then(()=>{r==null||r(),i===1&&v.cancel()}).catch(B=>{if(v.startTime!==null&&v.currentTime!==null)throw B})}):(p===0&&(n==null||n(0,1)),w=ct(h=>{if(h>=q)return n==null||n(i,1-i),r==null||r(),!1;if(h>=d){var k=p+C*u((h-d)/m);n==null||n(k,1-k)}return!0})),{abort:()=>{v==null||v.cancel(),w==null||w.abort(),o==null||o()},deactivate:()=>{r=void 0,o=void 0},reset:()=>{i===0&&(n==null||n(1,0))},t:h=>{var k=p+C*u((h-d)/m);return Math.min(1,Math.max(0,k))}}}const _t=!0,qa=Object.freeze(Object.defineProperty({__proto__:null,prerender:_t},Symbol.toStringTag,{value:"Module"})),ht=t=>t;function Ie(t){const e=t-1;return e*e*e+1}function Pe(t,{delay:e=0,duration:a=400,easing:i=ht}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:a,easing:i,css:o=>`opacity: ${o*r}`}}function mt(t,{delay:e=0,duration:a=400,easing:i=Ie,axis:r="y"}={}){const o=getComputedStyle(t),c=+o.opacity,l=r==="y"?"height":"width",_=parseFloat(o[l]),s=r==="y"?["top","bottom"]:["left","right"],n=s.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),u=parseFloat(o[`padding${n[0]}`]),d=parseFloat(o[`padding${n[1]}`]),p=parseFloat(o[`margin${n[0]}`]),C=parseFloat(o[`margin${n[1]}`]),m=parseFloat(o[`border${n[0]}Width`]),q=parseFloat(o[`border${n[1]}Width`]);return{delay:e,duration:a,easing:i,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*c};${l}: ${v*_}px;padding-${s[0]}: ${v*u}px;padding-${s[1]}: ${v*d}px;margin-${s[0]}: ${v*p}px;margin-${s[1]}: ${v*C}px;border-${s[0]}-width: ${v*m}px;border-${s[1]}-width: ${v*q}px;`}}function we(t,e){for(const a in e)t[a]=e[a];return t}function gt({fallback:t,...e}){const a=new Map,i=new Map;function r(c,l,_){const{delay:s=0,duration:n=L=>Math.sqrt(L)*30,easing:u=Ie}=we(we({},e),_),d=c.getBoundingClientRect(),p=l.getBoundingClientRect(),C=d.left-p.left,m=d.top-p.top,q=d.width/p.width,v=d.height/p.height,w=Math.sqrt(C*C+m*m),h=getComputedStyle(l),k=h.transform==="none"?"":h.transform,x=+h.opacity;return{delay:s,duration:typeof n=="function"?n(w):n,easing:u,css:(L,E)=>`
			   opacity: ${L*x};
			   transform-origin: top left;
			   transform: ${k} translate(${E*C}px,${E*m}px) scale(${L+(1-L)*q}, ${L+(1-L)*v});
		   `}}function o(c,l,_){return(s,n)=>(c.set(n.key,s),()=>{if(l.has(n.key)){const u=l.get(n.key);return l.delete(n.key),r(u,s,n)}return c.delete(n.key),t&&t(s,n,_)})}return[o(i,a,!1),o(a,i,!0)]}function wt(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function ye(t,e){e.darkMode=!e.darkMode}var yt=$(`<div class="moon svelte-17bgi9x"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75
                        0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75
                        21a9.753 9.753 0 009.002-5.998z"></path></svg></div>`),bt=$(`<div class="sun svelte-17bgi9x"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12
                        18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75
                        3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg></div>`),kt=$('<div role="button" tabindex="0" class="icon svelte-17bgi9x"><!></div>');function pt(t,e){Y(e,!0);const a="darkMode",[i,r]=gt({duration:250,easing:wt});let o=F({isInitialized:!1,darkMode:!1});de(()=>{o.isInitialized?l(o.darkMode):(o.darkMode=c(),o.isInitialized=!0)});function c(){var u,d;const n=(u=window==null?void 0:window.localStorage)==null?void 0:u.getItem(a);return n?n==="true":(d=window==null?void 0:window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:d.matches}function l(n){n?(document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme")):(document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme")),localStorage.setItem(a,n.toString())}var _=kt();_.__click=[ye,o],_.__keydown=[ye,o];var s=b(_);z(s,()=>o.darkMode,n=>{var u=yt(),d=b(u);b(d),y(d),y(u),Z(1,u,()=>r,()=>({key:"dark",delay:200})),Z(2,u,()=>i,()=>({key:"light"})),g(n,u)},n=>{var u=bt(),d=b(u);b(d),y(d),y(u),Z(1,u,()=>r,()=>({key:"light",delay:200})),Z(2,u,()=>i,()=>({key:"dark"})),g(n,u)}),y(_),g(t,_),X()}re(["click","keydown"]);var xt=$('<div class="theme-switch svelte-jrz9as"><!></div>');function Mt(t){var e=xt(),a=b(e);pt(a,{$$legacy:!0}),y(e),g(t,e)}var St=$("<form><!></form>");function Tt(t,e){Y(e,!0);let a=M(e,"method",3,"POST"),i=M(e,"isError",7);async function r(l){l.preventDefault();const _=l.currentTarget;if(_.reportValidity())i(!1);else{i(!0);return}const n=new FormData(_);let u=new URLSearchParams;if(n.forEach((p,C)=>{u.append(C,p.toString())}),e.onSubmit){e.onSubmit(_,u);return}const d=await fetch(_.action,{method:_.method,headers:{"Content-type":"application/x-www-form-urlencoded"},body:u});Ze(d),e.onResponse&&(e.onResponse(d),d.ok&&_.reset())}var o=St(),c=b(o);ve(c,ce(e),{}),y(o),j(()=>{T(o,"action",e.action),T(o,"method",a())}),fe("submit",o,r,!1),g(t,o),X()}var $t=$('<div class="container svelte-1yqkxw6"><div class="loading svelte-1yqkxw6"><div class="loading-1 svelte-1yqkxw6"></div> <div class="loading-2 svelte-1yqkxw6"></div> <div class="loading-3 svelte-1yqkxw6"></div></div></div>');function Ct(t,e){let a=M(e,"background",3,!1),i=M(e,"color",3,"var(--col-text)"),r=M(e,"global",3,!1),o=M(e,"offset",3,0);var c=$t(),l=b(c),_=b(l),s=f(f(_,!0)),n=f(f(s,!0));y(l),y(c),j(()=>{te(c,"global",r()),te(c,"local",!r()),te(c,"background",a()),T(l,"style",`margin-top: ${o()??""}px;`),W(_,"background",i()),W(s,"background",i()),W(n,"background",i())}),Z(3,c,()=>Pe,()=>({duration:100})),g(t,c)}function be(t,e){e.onclick&&e.onclick()}var qt=$('<div class="load svelte-jw4hyj"><!></div>'),Lt=$('<div class="txt svelte-jw4hyj"><!></div>'),jt=$('<button class="svelte-jw4hyj"><!></button>');function It(t,e){Y(e,!0);let a=M(e,"type",3,"button"),i=M(e,"level",3,1),r=M(e,"width",3,"inherit"),o=M(e,"isDisabled",3,!1),c=M(e,"isLoading",3,!1),l=O(!c()),_=se(()=>o()||c());de(()=>{c()?setTimeout(()=>{A(l,!1)},120):setTimeout(()=>{A(l,!0)},120)});var s=jt();s.__click=[be,e],s.__keydown=[be,e];var n=b(s);z(n,c,u=>{var d=qt(),p=b(d),C=se(()=>(i()>1,"var(--col-text)"));Ct(p,{background:!1,get color(){return S(C)}}),y(d),g(u,d)},u=>{var d=Me(),p=H(d);z(p,()=>S(l),C=>{var m=Lt(),q=b(m);ve(q,ce(e),{}),y(m),Z(1,m,()=>Pe),g(C,m)},null,!0),g(u,d)}),y(s),j(()=>{T(s,"type",a()),s.disabled=S(_),te(s,"l1",i()===1),te(s,"l2",i()===2),te(s,"l3",i()>2),W(s,"width",r()),W(s,"cursor",c()?"default":"pointer")}),g(t,s),X()}re(["click","keydown"]);var Pt=le(`<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0
            002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375
            3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375
            7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8
            0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125
            1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z"></path></svg>`);function At(t,e){let a=M(e,"opacity",0,.9),i=M(e,"width",0,20);var r=Pt();T(r,"stroke-width",2),b(r),y(r),j(()=>{T(r,"width",i()),T(r,"opacity",a())}),g(t,r)}var Et=le(`<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138
            2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0
            01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0
            0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"></path></svg>`);function Ft(t,e){let a=M(e,"color",0,"var(--col-err)"),i=M(e,"opacity",0,.9),r=M(e,"width",0,24);var o=Et();T(o,"stroke-width",2),b(o),y(o),j(()=>{T(o,"width",r()),T(o,"color",a()),T(o,"opacity",i())}),g(t,o)}var Rt=le(`<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963
            7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>`);function zt(t,e){let a=M(e,"color",0,"var(--col-ok)"),i=M(e,"opacity",0,.9),r=M(e,"width",0,24);var o=Rt();T(o,"stroke-width",2);var c=b(o);f(c),y(o),j(()=>{T(o,"width",r()),T(o,"color",a()),T(o,"opacity",i())}),g(t,o)}function ke(t,e){navigator.clipboard?navigator.clipboard.writeText(e()):console.error("Copy to clipboard is only available in secure contexts")}function Bt(t){t.code}function pe(t,e){e()==="password"?e("text"):e("password")}function Vt(t){}var Dt=$('<div role="button" tabindex="0" class="btn clip svelte-1ofxkqs"><!></div>'),Ot=$('<div class="nolabel svelte-1ofxkqs"></div>'),Nt=$('<div class="error svelte-1ofxkqs"><!> </div>'),Ut=$('<div><div class="input-row svelte-1ofxkqs"><input> <div class="rel svelte-1ofxkqs"><!> <div role="button" tabindex="0" class="btn show svelte-1ofxkqs"><!></div></div></div></div> <div class="label svelte-1ofxkqs"><label class="font-label noselect svelte-1ofxkqs"> </label> <!></div>',1);function Ht(t,e){let a=M(e,"type",7,"password"),i=M(e,"name",3,"password"),r=M(e,"value",7,""),o=M(e,"label",3,"Password"),c=M(e,"autocomplete",3,"current-password"),l=M(e,"placeholder",3,"Password"),_=M(e,"title",3,"Password"),s=M(e,"disabled",3,!1),n=M(e,"min",3,"14"),u=M(e,"max",3,"128"),d=M(e,"required",3,!0),p=M(e,"width",3,"inherit"),C=M(e,"showCopy",3,!1),m=O(!1);function q(P){var J;const R=(J=P==null?void 0:P.currentTarget)==null?void 0:J.reportValidity();A(m,!R)}function v(P){P.preventDefault(),A(m,!0)}var w=Ut(),h=H(w),k=b(h),x=b(k);tt(x),x.__input=[Vt],x.__keydown=[Bt];var L=f(f(x,!0)),E=b(L);z(E,C,P=>{var R=Dt();R.__click=[ke,r],R.__keydown=[ke,r];var J=b(R);At(J,{}),y(R),g(P,R)});var B=f(f(E,!0));B.__click=[pe,a],B.__keydown=[pe,a];var ae=b(B);z(ae,()=>a()==="password",P=>{Ft(P,{width:22})},P=>{zt(P,{width:22})}),y(B),y(L),y(k),y(h);var V=f(f(h,!0)),D=b(V),ue=b(D);y(D);var Ae=f(f(D,!0));z(Ae,()=>S(m),P=>{var R=Nt(),J=b(R);z(J,()=>!o(),Fe=>{var Re=Ot();g(Fe,Re)});var Ee=f(J,!0);y(R),j(()=>I(Ee,` ${_()??""}`)),Z(3,R,()=>mt),g(P,R)}),y(V),j(()=>{W(h,"width",p()),T(x,"type",a()),T(x,"id",e.id),T(x,"name",i()),T(x,"title",_()),T(x,"aria-label",_()),T(x,"autocomplete",c()),T(x,"placeholder",l()),x.disabled=s(),x.required=d()||void 0,T(x,"maxlength",e.maxLength||void 0),T(x,"min",n()||void 0),T(x,"max",u()||void 0),T(x,"pattern",e.pattern||void 0),W(x,"padding-right",C()?"55px":"30px"),T(D,"for",e.id),I(ue,o())}),et(x,r,P=>r(P)),fe("invalid",x,v,!1),fe("blur",x,q,!1),g(t,w)}re(["input","keydown","click"]);var Qt=$('<meta property="description" content="Hiqlite Login">'),Kt=$("Login",1),Gt=$("<!> <!>",1),Wt=$('<div class="container svelte-9m879t"><div class="login svelte-9m879t"><!></div></div>');function Yt(t,e){Y(e,!1);async function a(c){if(c.status===200){let l=await c.json();_e.set(l)}}lt();var i=Wt();Se(c=>{var l=Qt();Oe.title="Login",g(c,l)});var r=b(i),o=b(r);Tt(o,{action:`${$e}/session`,onResponse:a,children:(c,l)=>{var _=Gt(),s=H(_);Ht(s,{id:"password",name:"password",autocomplete:"current-password",placeholder:"Password",title:"Valid Dashboard Password",required:!0,$$legacy:!0});var n=f(f(s,!0));It(n,{type:"submit",children:(u,d)=>{N();var p=Kt();g(u,p)},$$slots:{default:!0},$$legacy:!0}),g(c,_)},$$slots:{default:!0},$$legacy:!0}),y(r),y(i),g(t,i),X()}var ee=(t=>(t.Table="table",t.Index="index",t.Trigger="view",t.View="trigger",t))(ee||{}),Xt=$(" <br>",1),Jt=$('<section class="svelte-1843bx4"><h5 class="header"> <br> </h5> <div class="sql font-mono svelte-1843bx4"></div></section>');function Zt(t,e){Y(e,!0);let a=se(()=>{var s;return(s=e.table.sql)==null?void 0:s.split(`
`)});var i=Jt(),r=b(i),o=b(r),c=f(o),l=f(c,!0);y(r);var _=f(f(r,!0));Ce(_,73,()=>S(a),at,(s,n,u)=>{var d=Xt(),p=H(d,!0);f(p),j(()=>I(p,G(n))),g(s,d)}),y(_),y(i),j(()=>{I(o,e.table.name),I(l,` ${e.table.typ??""}: ${e.table.tbl_name??""}`)}),g(t,i),X()}function xe(t,e,a){e(a.view)}var ea=$('<div role="button" tabindex="0"> </div>');function ie(t,e){let a=M(e,"viewSelected",7);var i=ea();i.__click=[xe,a,e],i.__keydown=[xe,a,e];var r=b(i);y(i),j(()=>{rt(i,`${(a()===e.view?"selected":"")??""} svelte-xs9e38`),I(r,e.view)}),g(t,i)}re(["click","keydown"]);var ta=le('<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"></path></svg>');function aa(t,e){let a=M(e,"opacity",0,.9),i=M(e,"width",0,24);var r=ta();T(r,"stroke-width",2),b(r),y(r),j(()=>{T(r,"width",i()),T(r,"opacity",a())}),g(t,r)}var ra=$('<div class="err"> </div>'),oa=(t,e,a)=>e(G(a).name),ia=(t,e,a)=>e(G(a).name),na=(t,e,a)=>e(G(a).name),sa=(t,e,a)=>e(G(a).name),la=$('<div role="button" tabindex="0" class="btn svelte-4hatfy"><!></div>'),da=$('<div role="button" tabindex="0" class="entry svelte-4hatfy"><div> </div> <!></div>'),va=$('<!> <div class="selector svelte-4hatfy"><!> <!> <!> <!></div> <div id="tables" class="svelte-4hatfy"><div class="tables svelte-4hatfy"></div> <!></div>',1);function ca(t,e){Y(e,!0);let a=O(F([])),i=O(void 0),r=O(F(ee.Table)),o=O(void 0);de(()=>{c(S(r))});async function c(h){let k=await qe(`/tables/${h}`);k.status===200?A(a,F(await k.json())):A(o,F(await k.json()))}function l(h){A(i,F(S(a).filter(k=>k.name===h)[0]))}function _(h){let k={id:`${h}_${ot(4)}`,query:`${it}
PRAGMA table_info(${h})`};nt.push(k),l(h)}var s=va(),n=H(s);z(n,()=>S(o),h=>{var k=ra(),x=b(k);y(k),j(()=>I(x,S(o))),g(h,k)});var u=f(f(n,!0)),d=b(u);ie(d,{get view(){return ee.Table},get viewSelected(){return S(r)},set viewSelected(h){A(r,F(h))}});var p=f(f(d,!0));ie(p,{get view(){return ee.Index},get viewSelected(){return S(r)},set viewSelected(h){A(r,F(h))}});var C=f(f(p,!0));ie(C,{get view(){return ee.Trigger},get viewSelected(){return S(r)},set viewSelected(h){A(r,F(h))}});var m=f(f(C,!0));ie(m,{get view(){return ee.View},get viewSelected(){return S(r)},set viewSelected(h){A(r,F(h))}}),y(u);var q=f(f(u,!0)),v=b(q);Ce(v,77,()=>S(a),(h,k)=>h.name,(h,k,x)=>{var L=da();L.__click=[oa,l,k],L.__keydown=[ia,l,k];var E=b(L),B=b(E);y(E);var ae=f(f(E,!0));z(ae,()=>G(k).typ==="table",V=>{var D=la();D.__click=[na,_,k],D.__keydown=[sa,_,k];var ue=b(D);aa(ue,{}),y(D),g(V,D)}),y(L),j(()=>{var V;W(L,"background",((V=S(i))==null?void 0:V.name)===G(k).name?"var(--col-s)":""),I(B,G(k).name)}),g(h,L)}),y(v);var w=f(f(v,!0));z(w,()=>S(i),h=>{Zt(h,{get table(){return S(i)}})}),y(q),g(t,s),X()}re(["click","keydown"]);var ua=$('<div class="metric svelte-1ktnipf"><div class="label font-label svelte-1ktnipf"> </div> <div class="font-mono"><!></div></div>');function K(t,e){var a=ua(),i=b(a),r=b(i);y(i);var o=f(f(i,!0)),c=b(o);ve(c,ce(e),{}),y(o),y(a),j(()=>I(r,e.label)),g(t,a)}var fa=$("<b>Metrics</b> <!> <!> <!> <!> <!> <!> <!> <!>",1);function _a(t,e){Y(e,!0);let a=O(void 0),i=se(()=>{var m;return(m=S(a))==null?void 0:m.membership_config.membership.configs.join(", ")});setInterval(()=>{r()},1e4),Te(()=>{r()});async function r(){let m=await qe("/metrics");m.status===200?A(a,F(await m.json())):console.error(await m.json())}var o=fa(),c=H(o),l=f(f(c,!0));K(l,{label:"Node",children:(m,q)=>{N();var v=Q();j(()=>{var w,h;return I(v,`${((w=S(a))==null?void 0:w.id)??""}
    ${((h=S(a))==null?void 0:h.state)??""}`)}),g(m,v)},$$slots:{default:!0}});var _=f(f(l,!0));K(_,{label:"Current Leader",children:(m,q)=>{N();var v=Q();j(()=>{var w;return I(v,(w=S(a))==null?void 0:w.current_leader)}),g(m,v)},$$slots:{default:!0}});var s=f(f(_,!0));K(s,{label:"Last Log Index",children:(m,q)=>{N();var v=Q();j(()=>{var w;return I(v,(w=S(a))==null?void 0:w.last_log_index)}),g(m,v)},$$slots:{default:!0}});var n=f(f(s,!0));K(n,{label:"Last Applied Log",children:(m,q)=>{N();var v=Q();j(()=>{var w,h,k,x,L,E;return I(v,`${((h=(w=S(a))==null?void 0:w.last_applied)==null?void 0:h.leader_id.node_id)??""}
    -
    ${((x=(k=S(a))==null?void 0:k.last_applied)==null?void 0:x.leader_id.term)??""}
    -
    ${((E=(L=S(a))==null?void 0:L.last_applied)==null?void 0:E.index)??""}`)}),g(m,v)},$$slots:{default:!0}});var u=f(f(n,!0));K(u,{label:"Snapshot",children:(m,q)=>{N();var v=Q();j(()=>{var w,h,k,x;return I(v,`${((h=(w=S(a))==null?void 0:w.snapshot)==null?void 0:h.leader_id)??""}
    -
    ${((x=(k=S(a))==null?void 0:k.snapshot)==null?void 0:x.index)??""}`)}),g(m,v)},$$slots:{default:!0}});var d=f(f(u,!0));K(d,{label:"Vote Leader",children:(m,q)=>{N();var v=Q();j(()=>{var w;return I(v,(w=S(a))==null?void 0:w.vote.leader_id.node_id)}),g(m,v)},$$slots:{default:!0}});var p=f(f(d,!0));K(p,{label:"Millis Quorum Ack",children:(m,q)=>{N();var v=Q();j(()=>{var w;return I(v,(w=S(a))==null?void 0:w.millis_since_quorum_ack)}),g(m,v)},$$slots:{default:!0}});var C=f(f(p,!0));K(C,{label:"Members",children:(m,q)=>{N();var v=Q();j(()=>I(v,S(i))),g(m,v)},$$slots:{default:!0}}),g(t,o),X()}var ha=$('<aside class="svelte-v6apjd"><!></aside>');function ma(t){var e=ha(),a=b(e);_a(a,{$$legacy:!0}),y(e),g(t,e)}const ga=(t,e,a)=>{if(Ye(t))return Xe(t);const i=e(a);return Je(t,i),i},wa=(t,e)=>ga(t,ya,e),ya=t=>{let e=O(F(t));return{get value(){return S(e)},set value(a){A(e,F(a))}}};var ba=$('<meta name="robots" content="noindex nofollow">'),ka=$('<nav class="svelte-1t53nk0"><!></nav> <main class="svelte-1t53nk0"><!></main> <!>',1),pa=$("<!> <!>",1);function La(t,e){Y(e,!0);let a=O(void 0),i=O(!1);wa("queries",[st]),_e.subscribe(l=>{A(a,F(l))}),de(()=>{console.log(S(a))}),Te(async()=>{let l=await fetch(`${$e}/session`);l.status===200&&_e.set(await l.json()),A(i,!0)});var r=pa();Se(l=>{var _=ba();g(l,_)});var o=H(r);z(o,()=>S(a),l=>{var _=ka(),s=H(_),n=b(s);ca(n,{}),y(s);var u=f(f(s,!0)),d=b(u);ve(d,ce(e),{}),y(u);var p=f(f(u,!0));ma(p),g(l,_)},l=>{var _=Me(),s=H(_);z(s,()=>S(i),n=>{Yt(n,{})},null,!0),g(l,_)});var c=f(f(o,!0));Mt(c),g(t,r),X()}export{La as component,qa as universal};
