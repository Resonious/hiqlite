import{i as v,j as c,k as u,p as _,E as y,c as l,l as E,a as T,b as k}from"./runtime.6J5aEZU7.js";import{h as i,a as A,H as R,r as g,s as x,b as d,c as N}from"./disclose-version.DdsrvPbs.js";function j(a,e,m,r=null,p=!1){i&&A();var t=a,n=null,s=null,f=null,h=p?y:0;v(()=>{if(f===(f=!!e()))return;let o=!1;if(i){const b=t.data===R;f===b&&(t=g(),x(t),d(!1),o=!0)}f?(n?c(n):n=u(()=>m(t)),s&&_(s,()=>{s=null})):(s?c(s):r&&(s=u(()=>r(t))),n&&_(n,()=>{n=null})),o&&d(!0)},h),i&&(t=N)}function q(a){l===null&&E(),l.l!==null?S(l).m.push(a):T(()=>{const e=k(a);if(typeof e=="function")return e})}function S(a){var e=a.l;return e.u??(e.u={a:[],b:[],m:[]})}export{j as i,q as o};
